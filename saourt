if [ "$#" -ne 1 ]; then
    echo "1 argument required, $# provided"
	exit -1
fi

PKG_NAME=`yaourt -Ss $1 --color | sed '$!N;s/\n/\t/' | awk '{print "   -> " $0}' | pick -S | grep -oP ".*/\K\S*"`

if [ $PKG_NAME ]; then
    echo "Installing "$PKG_NAME

    # remove colors from PKG_NAME
    PKG_NAME=`echo $PKG_NAME | sed -r "s/\x1B\[([0-9]{1,2}(;[0-9]{1,2})?)?[mGK]//g"`
    
    yaourt -S $PKG_NAME
fi
